<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>List all processes that loaded a shared library — ps_shared_lib_users • ps</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="List all processes that loaded a shared library — ps_shared_lib_users" />
<meta property="og:description" content="List all processes that loaded a shared library" />


<meta name="robots" content="noindex">



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  

  

  </head>

  <body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ps</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">1.5.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/ps/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>List all processes that loaded a shared library</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-lib/ps/blob/master/R/system.R'><code>R/system.R</code></a></small>
    <div class="hidden name"><code>ps_shared_lib_users.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>List all processes that loaded a shared library</p>
    </div>

    <pre class="usage"><span class='fu'>ps_shared_lib_users</span><span class='op'>(</span><span class='va'>paths</span>, user <span class='op'>=</span> <span class='fu'><a href='ps_username.html'>ps_username</a></span><span class='op'>(</span><span class='op'>)</span>, filter <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>paths</th>
      <td><p>Character vector of paths of shared libraries to
look up. They must be absolute paths. They don't need to exist.
Forward slashes are converted to backward slashes on Windows, and
the output will always have backward slashes in the paths.</p></td>
    </tr>
    <tr>
      <th>user</th>
      <td><p>Character scalar or <code>NULL</code>. If not <code>NULL</code>, then only
the processes of this user are considered. It defaults to the
current user.</p></td>
    </tr>
    <tr>
      <th>filter</th>
      <td><p>Character vector or <code>NULL</code>. If not NULL, then it is
a vector of glob expressions, used to filter the process names.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame (tibble) with columns:</p><ul>
<li><p><code>dll</code>: the file name of the dll file, without the path,</p></li>
<li><p><code>path</code>: path to the shared library,</p></li>
<li><p><code>pid</code>: process ID of the process,</p></li>
<li><p><code>name</code>: name of the process,</p></li>
<li><p><code>username</code>: username of process owner,</p></li>
<li><p><code>ps_handle</code>: <code>ps_handle</code> object, that can be used to further
query and manipulate the process.</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    
<h3 class='hasAnchor' id='notes-'><a class='anchor' href='#notes-'></a>Notes:</h3>


<p>This function currently only works on Windows.</p>
<p>On Windows, a 32 bit R process can only list other 32 bit processes.
Similarly, a 64 bit R process can only list other 64 bit processes.
This is a limitation of the Windows API.</p>
<p>Even though Windows file systems are (almost always) case
insensitive, the matching of <code>paths</code>, <code>user</code> and also <code>filter</code>
are case sensitive. This might change in the future.</p>
<p>This function can be very slow on Windows, because it needs to
enumerate all shared libraries of all processes in the system,
unless the <code>filter</code> argument is set. Make sure you set <code>filter</code>
if you can.</p>
<p>If you want to look up multiple shared libraries, list all of them
in <code>paths</code>, instead of calling <code>ps_shared_lib_users</code> for each
individually.</p>
<p>If you are after libraries loaded by R processes, you might want to
set <code>filter</code> to <code><a href='https://rdrr.io/r/base/c.html'>c("Rgui.exe", "Rterm.exe", "rsession.exe")</a></code> The
last one is for RStudio.</p>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other shared library tools: 
<code><a href='ps_shared_libs.html'>ps_shared_libs</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span> <span class='co'># ps::ps_is_supported() &amp;&amp; !ps:::is_cran_check() &amp;&amp; ps::ps_os_type()[["WINDOWS"]]</span>
<span class='va'>dlls</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>vapply</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/getLoadedDLLs.html'>getLoadedDLLs</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"[["</span>, <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span>, <span class='st'>"path"</span><span class='op'>)</span>
<span class='va'>psdll</span> <span class='op'>&lt;-</span> <span class='va'>dlls</span><span class='op'>[[</span><span class='st'>"ps"</span><span class='op'>]</span><span class='op'>]</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span>
<span class='va'>r_procs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Rgui.exe"</span>, <span class='st'>"Rterm.exe"</span>, <span class='st'>"rsession.exe"</span><span class='op'>)</span>
<span class='fu'>ps_shared_lib_users</span><span class='op'>(</span><span class='va'>psdll</span>, filter <span class='op'>=</span> <span class='va'>r_procs</span><span class='op'>)</span>
<span class='op'>}</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p><p>Developed by Jay Loden, Dave Daeschler, Giampaolo Rodola’, <a href="https://github.com/gaborcsardi" class="external-link">Gábor Csárdi</a>.</p></p>
</div>

<div class="pkgdown">
  <p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9000.</p></p>
</div>

      </footer>
   </div>

  


  

  </body>
</html>


